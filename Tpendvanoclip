local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local teleportEvent = ReplicatedStorage:WaitForChild("TeleportRequest")

local noclip = false

-- Nút GUI (bạn có thể sửa lại UI tùy ý)
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))

local tpButton = Instance.new("TextButton")
tpButton.Size = UDim2.new(0, 120, 0, 40)
tpButton.Position = UDim2.new(0, 10, 0.8, 0)
tpButton.Text = "Teleport End"
tpButton.Parent = screenGui

local noclipButton = Instance.new("TextButton")
noclipButton.Size = UDim2.new(0, 120, 0, 40)
noclipButton.Position = UDim2.new(0, 10, 0.9, 0)
noclipButton.Text = "Toggle NoClip"
noclipButton.Parent = screenGui

-- Gửi lệnh cho server
tpButton.MouseButton1Click:Connect(function()
	teleportEvent:FireServer()
end)

-- Noclip Toggle
noclipButton.MouseButton1Click:Connect(function()
	noclip = not noclip
end)

-- Noclip thực thi
RunService.Stepped:Connect(function()
	if noclip and player.Character then
		for _, part in ipairs(player.Character:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CanCollide = false
			end
		end
	end
end)
